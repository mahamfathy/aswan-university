<header
  class="sticky top-0 z-50 bg-gradient-to-r from-[#054F67] via-[#054F67] to-[#054F67] text-white shadow-[0px_5px_11px_0px_#033D52]"
>
  <div
    class="max-w-7xl mx-auto px-4 py-4 flex-row-reverse flex justify-start sm:justify-start items-center"
  >
    <!-- Mobile menu button -->
    <button
      (click)="isMenuOpen = !isMenuOpen"
      class="md:hidden focus:outline-none text-[#F5DEB3] z-50"
    >
      <span class="relative block w-6 h-6">
        <span
          class="absolute left-0 top-1/2 w-6 h-0.5 bg-[#F5DEB3] transition-all duration-300"
          [ngClass]="{
            'rotate-45 translate-y-0': isMenuOpen,
            '-translate-y-2': !isMenuOpen
          }"
        ></span>
        <span
          class="absolute left-0 top-1/2 w-6 h-0.5 bg-[#F5DEB3] transition-all duration-300"
          [ngClass]="{
            'opacity-0': isMenuOpen,
            '-translate-y-0.5': !isMenuOpen
          }"
        ></span>
        <span
          class="absolute left-0 top-1/2 w-6 h-0.5 bg-[#F5DEB3] transition-all duration-300"
          [ngClass]="{
            '-rotate-45 translate-y-0': isMenuOpen,
            'translate-y-2': !isMenuOpen
          }"
        ></span>
      </span>
    </button>

    <!-- Desktop Navigation -->

    <nav class="hidden md:block">
      <ul
        class="flex gap-6 flex-wrap justify-center text-sm text-[#F5DEB3] font-medium"
      >
        @for (link of navLinks; track link) {
        <li class="relative group hover:bg-[#033D52]">
          <a
            [routerLink]="link.route"
            class="flex items-center gap-2 hover:text-white hover:bg-[#033D52] transition"
          >
            @if(link.label!=="الرئيسية"){
            <i
              class="fas fa-caret-down transition-transform duration-300 group-hover:rotate-180text-[#F5DEB3] text-xs transition-transform duration-300 group-hover:rotate-180"
            ></i
            >}
            {{ link.label }}
          </a>
          @if (link.hasDropdown ) {
          <ul
            class="absolute -right-4 top-full mt-2 w-56 bg-[#054F67] shadow-lg rounded-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 z-50"
          >
            @for (item of link.dropdownItems; track item) {
            <li>
              <a
                [routerLink]="item.route"
                class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >
                {{ item.label }}
              </a>
            </li>
            }
          </ul>
          }
        </li>
        }
      </ul>
    </nav>
  </div>

  <!-- Mobile Sidebar Navigation -->
  <nav
    [ngClass]="{
      'translate-x-0': isMenuOpen,
      '-translate-x-full': !isMenuOpen
    }"
    class="fixed top-0 left-0 h-full w-64 bg-[#054F67] shadow-2xl shadow-[#033D52] transition-transform duration-300 z-40 md:hidden"
  >
    <ul
      class="flex flex-col gap-8 px-8 py-16 text-lg text-[#F5DEB3] font-medium"
    >
      <li>
        <a
          routerLink="/student/home"
          (click)="isMenuOpen = false"
          class="hover:text-white transition"
          >الرئيسية</a
        >
      </li>
      <li>
        <a
          routerLink="/student/about"
          (click)="isMenuOpen = false"
          class="hover:text-white transition"
          >عن الجامعة</a
        >
      </li>
      <li>
        <a
          routerLink="/student/departments"
          (click)="isMenuOpen = false"
          class="hover:text-white transition"
          >الأقسام</a
        >
      </li>
      <li>
        <a
          routerLink="/student/admissions"
          (click)="isMenuOpen = false"
          class="hover:text-white transition"
          >القبول</a
        >
      </li>
      <li>
        <a
          routerLink="/student/contact"
          (click)="isMenuOpen = false"
          class="hover:text-white transition"
          >تواصل معنا</a
        >
      </li>
      <li>
        <button
          type="button"
          (click)="isMobileMenuOpen = !isMobileMenuOpen"
          class="flex items-center gap-2 w-full text-left hover:text-white transition focus:outline-none"
        >
          البوابة الطلابية
          <svg
            class="w-4 h-4 transition-transform duration-300"
            [ngClass]="{ 'rotate-90': isMobileMenuOpen }"
            fill="none"
            stroke="#F5DEB3"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 5l7 7-7 7"
            />
          </svg>
        </button>
        <ul
          *ngIf="isMobileMenuOpen"
          class="mt-2 bg-[#054F67] shadow-lg rounded-lg"
        >
          <li>
            <a
              routerLink="/portal/student-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >خدمات طلابيه</a
            >
          </li>
          <li>
            <a
              routerLink="/portal/faculty-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >خدمات أعضاء هيئة التدريس</a
            >
          </li>
          <li>
            <a
              routerLink="/portal/admin-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >خدمات الإداريين</a
            >
          </li>
          <li>
            <a
              routerLink="/portal/medical-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >الخدمات الطبيه</a
            >
          </li>
          <li>
            <a
              routerLink="/portal/parent-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >خدمات ولي الأمر</a
            >
          </li>
          <li>
            <a
              routerLink="/portal/graduates-services"
              (click)="isMenuOpen = false"
              class="block px-4 py-2 text-[#F5DEB3] hover:bg-[#033D52] hover:text-white transition"
              >خدمات الخريجين</a
            >
          </li>
        </ul>
      </li>
    </ul>
  </nav>
</header>
